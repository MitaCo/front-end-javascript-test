<section class="page" role="main">
  <header class="flex flex-center flex-justify mb3 px3 max-px0">
    <div class="flex mr3">
      <h1 class="h1">Products</h1>
      <span class="callout">{{index.items.length}}</span>
    </div>
    <div class="flex" role="toolbar">
      <a href="/product/new" class="button color-action">Add product</a>
    </div>
  </header>
  <div class="controls flex flex-center mb3">
    <label class="form__label mr2 mb0" for="stock-quantity">Show products with stock levels less than:</label>
    <div>
      <input aria-controls="products" class="form__input form__input--number" id="stock-quantity" ng-model="index.stockFilter" ng-model-options="{ debounce: 300 }" ng-change="index.filterByStock(index.stockFilter)" placeholder="enter quantity" type="number" />
    </div>
  </div>
  <table class="table" id="products">
    <tbody>
      <tr class="table__row-header">
        <th class="table__cell-header">Name</th>
        <th class="table__cell-header">Supplier</th>
        <th class="table__cell-header">Stock Level</th>
        <th class="table__cell-header">Price (ex. tax)</th>
        <th class="table__cell-header">Price (inc. tax)</th>
      </tr>
      <tr class="table__row" ng-class-even="'bg-silver'" ng-click="master.viewProduct(item)" ng-repeat="item in index.items track by item.id">
        <td class="table__cell" data-label="Name">
          <span class="color-gray mr1" title="Item number">{{item.code}}</span>{{item.name}}
        </td>
        <td class="table__cell" data-label="Supplier">{{item.product_supplier_name}}</td>
        <td class="table__cell" data-label="Stock Level">{{item.stock_level}}</td>
        <td class="table__cell" data-label="Price (ex. tax)">{{item.priceWithoutTax() | currency}}</td>
        <td class="table__cell" data-label="Price (inc. tax)">{{item.priceWithTax() | currency}}</td>
      </tr>
    </tbody>
  </table>
</section>
